<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>getElementsByTagName()</title>
		<style type="text/css">
			#box { margin:0 auto; width:70%; text-align:center;} 
			table {margin:0 auto; width:100%;} 
			td {width:50px; height:30px;}  
		</style>
		<script type="text/javascript">
			window.onload = function() {
				// getElementsByTagName(태그명)
				// 문서내 조건으로 전달된 태그를 모두 찾아 '배열'로 전달
				// 각 태그 요소에 접근하려면 전달된 배열을 순회하든가 idx 이용
				// td (순서대로) 참조값 배열이 반환되고 tdArr은 그 배열의 첫 번째 주소값을 가지고 있음
				var tdArr = document.getElementsByTagName('td');
				
				// 각 버튼에 대한 참조값
				var setNumberBtn = document.getElementById('setNumberBtn');
				var setColorBtn = document.getElementById('setColorBtn');
				var clearNumberBtn = document.getElementById('clearNumberBtn');
				var clearColorBtn = document.getElementById('clearColorBtn');
			
				// setNumberBtn 버튼에 대해 click 이벤트 핸들러 함수 연결
				// 버튼에 대한 이벤트를 태그에 직접 연결하지 않고 스크립트로 참조값을 통해서 연결
				// id 태그에 번호 출력
				setNumberBtn.onclick = function() {
					// foreach는 진짜 배열에서만 사용 가능
					
					tdArr.forEach ((td, i, arr) => {
						arr[i].innerHTML = i;
					});
					/*
					for (var i = 0; i < tdArr.length; i++){
						tdArr[i].innerHTML = i;
					}*/
				};
				
				// 색상 채우기 버튼에 대해 click 이벤트 핸들러 함수 연결
				// 저장된 색상을 td의 배경색으로 설정
				setColorBtn.onclick = function () {
					var colors = ["red", "orange", "yellow", "green", "blue", "navy", "violet"];
					for (var i = 0; i < tdArr.length; i++){
						tdArr[i].style.background = colors[i];
					}
				}
				
				// 번호 지우기 버튼
				clearNumberBtn.onclick = function() {
					for (var i = 0; i < tdArr.length; i++){
						tdArr[i].innerHTML = "";
					}
				};
				
				// 색상 지우기 버튼
				clearColorBtn.onclick = function() {
					for (var i = 0; i < tdArr.length; i++){
						tdArr[i].style.background = "";
					}
				};
				
			};
		</script>
	</head>
	<body>
		<div id="box">
			<table border="1">
				<tr>
					<td></td><td></td><td></td><td></td>
					<td></td><td></td><td></td>
				</tr>
			</table><p>
			<button id="setNumberBtn">셀에 번호 채우기</button> 
			<button id="setColorBtn">셀에 색상 채우기</button><p>
			
			<button id="clearNumberBtn">셀의 번호 지우기</button> 
			<button id="clearColorBtn">셀의 색상 지우기</button>			
		</div>
	</body>
</html>